<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Редактор пользователя</title>
    </head>
    <body>
        <h1>Редактор пользователя</h1>
        <form th:action="@{/user}" method="post">
            <div>Имя пользователя: <input type="text" th:name="username" th:value=${user.username}></div>
            <div th:each="role: ${roles}">
                <label>
                    <input type="checkbox" th:name=${role} th:checked="*{user.roles.contains(role)}? 'checked'">
                    <span th:text="${role}"></span>
                </label>
            </div>
            <input type="hidden" th:value=${user.id} name="userId">
            <button type="submit">Сохранить</button>
        </form>
        <form th:action="@{'/user/'+${user.id}}" method="post">
            <input type="hidden" th:value=${user.id} name="userId">
            <button type="submit">Удалить пользователя</button>
        </form>
        <a href="#" onclick="history.back();return false;">Вернуться назад</a>
    </body>
</html>